(self.modernJsonp=self.modernJsonp||[]).push([["13991"],{977110(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="d1542775568248acbce5a79453f4dffb";let a=r},599016(e,t,n){var r,a;n.r(t),n.d(t,{default:()=>o});let i={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};i.hash="dee347ef77ae345e076b08494d4b664f";let o=i},950377(e,t,n){var r;n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="8b6ce790922ff8b900b4ae18b06b7c11";let i=a},836664(e,t,n){n.d(t,{Q:()=>x,x:()=>v});var r=n(859471),a=n(393807),i=n(702949),o=n(224723),l=n(106301),s=n(392026),u=n(149562),c=n(156508),d=n(427403),p=n(319491),m=n(987628),h=n(33658),g=n(62963),f=n(307424),y=n(562615);let _=(e,t,n)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===n);if(!r)return;let a=(0,g.A)(f.A,!0)(r),i=e.findIndex(({action:e})=>e?.filter?.productFilterType===n);e[i]?e[i]=a:e.push(a)},A=(e,t,n,r)=>{let a=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(a?.action?.filter){let e=a.action.filter.filterOptions;a.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[n]&&t.split(",").includes(String(e[n]))).map(e=>({...e,selected:!0})):[]}},{Provider:b,get:v}=(0,m.A)("OneBarProductFilters");function x({children:e}){let[t,n]=(0,r.useState)([]),[m,g]=(0,r.useState)(null),f=function(){let{scope:e}=(0,l.u)();return[o.cO.BOARDS,o.cO.PINS_BUYABLE,o.cO.PINS_VIDEO,o.cO.USERS].includes(e)}(),v=(0,d.A)(),x=(0,u.A)(),w=(0,a.A)(),S=(0,i.A)(),T=(0,c.A)(),I=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let a=e?.filter(({module_type:e})=>17===e||0===e);if(!a||a?.length===0||!r)return;let i=r!==m,o=i?[]:t;(i||!f)&&_(o,a,4),(i||!v)&&_(o,a,1),(i||!x)&&_(o,a,0),(i||!w)&&_(o,a,3),(i||!S)&&_(o,a,6),(i||!T)&&[7,8,9].forEach(e=>{_(o,a,e)}),(0,h.Ay)(o,t)||(n(o),g(r))},[t,w,S,f,x,T,v,m]),E=(0,s.A)(),{priceMax:k,priceMin:R,scope:O,brands:P,onSale:F,colors:j,domains:$}=(0,l.u)();(0,r.useEffect)(()=>{if(!E||0===t.length)return;let e=(0,p.A)(t);if(O!==o.cO.PINS){let t=(0,o.Ef)(O),n=e.find(({moduleType:e})=>0===e);n?.action?.filter&&(n.action.filter.appliedFilterOptions=[...n.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:n}=e;return{searchType:n,selected:n===t}}))}if("string"==typeof k||"string"==typeof R){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(R)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(k)}:null].filter(Boolean))}A(new Set([3]),P,"stringValue",e),A(new Set([6]),j,"stringValue",e),A(new Set([0]),$,"stringValue",e),A(new Set([7,8,9]),F,"numericValue",e),(0,h.Ay)(e,t)||n(e)},[t,E,k,R,O,P,j,$,F]);let C=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:I}),[t,I]);return(0,y.jsx)(b,{value:C,children:e})}},681986(e,t,n){n.d(t,{A:()=>A});var r=n(61163),a=n(859471),i=n(19821),o=n(306964),l=n(798902),s=n(836664),u=n(392026);function c({defaultText:e,productFilterTypes:t}){let n=(0,u.A)(),{cachedProductFilterOneBarModules:r}=(0,s.x)();return n?r.find(e=>"number"==typeof e.action?.filter?.productFilterType&&t.includes(e.action.filter.productFilterType))?.action?.filter?.errorStateLabel??e:e}var d=n(538329),p=n(562615);function m(){(0,a.useEffect)(()=>{(0,r.A)("RemoveBrandFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemoveBrandFilterButton.tsx")},[]);let e=c({defaultText:(0,d.A)().bt("Remove brands", "Remove brands", "AuthSearchPage.PinsNotFoundShoppingFilter.RemoveBrandsFilter", undefined, true),productFilterTypes:[3]}),t=(0,l.A)(),n=(0,o.A)();return(0,p.jsx)(i.$n,{dataTestId:"remove-brand-filter",onClick:()=>{n(0),t([{key:"brands",value:""}])},text:e})}function h(){(0,a.useEffect)(()=>{(0,r.A)("RemoveMerchantFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemoveMerchantFilterButton.tsx")},[]);let e=c({defaultText:(0,d.A)().bt("Remove retailers", "Remove retailers", "AuthSearchPage.PinsNotFoundShoppingFilter.RemoveRetailerFilter", undefined, true),productFilterTypes:[0]}),t=(0,l.A)(),n=(0,o.A)();return(0,p.jsx)(i.$n,{dataTestId:"remove-retailer-filter",onClick:()=>{n(0),t([{key:"domains",value:""}])},text:e})}function g(){(0,a.useEffect)(()=>{(0,r.A)("RemoveOnSaleFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemoveOnSaleFilterButton.tsx")},[]);let e=c({defaultText:(0,d.A)().bt("Remove on sale", "Remove on sale", "AuthSearchPage.PinsNotFoundShoppingFilter.RemoveOnSaleFilter", undefined, true),productFilterTypes:[7,8,9]}),t=(0,l.A)(),n=(0,o.A)();return(0,p.jsx)(i.$n,{dataTestId:"remove-on-sale-filter",onClick:()=>{n(0),t([{key:"on_sale",value:""}])},text:e})}function f(){(0,a.useEffect)(()=>{(0,r.A)("RemovePriceFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemovePriceFilterButton.tsx")},[]);let e=c({defaultText:(0,d.A)().bt("Remove price", "Remove price", "AuthSearchPage.PinsNotFoundShoppingFilter.RemovePriceRangeFilter", undefined, true),productFilterTypes:[1]}),t=(0,l.A)(),n=(0,o.A)();return(0,p.jsx)(i.$n,{dataTestId:"remove-price-range-filter",onClick:()=>{n(0),t([{key:"price_min",value:""},{key:"price_max",value:""}])},text:e})}function y(){(0,a.useEffect)(()=>{(0,r.A)("RemoveProductsFilterButton","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/individual/RemoveProductsFilterButton.tsx")},[]);let e=(0,d.A)(),t=(0,l.A)(),n=(0,o.A)();return(0,p.jsx)(i.$n,{dataTestId:"remove-all-filters",onClick:()=>{n(0),t(l.Y.map(e=>({key:e,value:""})))},text:e.bt("Clear all filters", "Clear all filters", "AuthSearchPage.PinsNotFoundShoppingFilter.RemoveProductsFilter", undefined, true)})}var _=n(106301);function A(){(0,a.useEffect)(()=>{(0,r.A)("RemoveFilterButtons","/app/common/react/components/UnifiedFilters/RemoveFilterButtons/RemoveFilterButtons.tsx")},[]);let{brands:e,commerceOnly:t,domains:n,onSale:o,priceMax:l}=(0,_.u)();return(0,p.jsxs)(i.so,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",children:[(0,p.jsxs)(i.so,{gap:2,justifyContent:"center",wrap:!0,children:[o&&(0,p.jsx)(g,{}),l&&(0,p.jsx)(f,{}),e&&(0,p.jsx)(m,{}),n&&(0,p.jsx)(h,{})]}),t&&(0,p.jsx)(y,{})]})}},306964(e,t,n){n.d(t,{A:()=>o});var r=n(979638),a=n(11925),i=n(307079);function o(){let e=(0,r.zy)(),t=(0,r.Zp)();return function(n){let r=(0,i.A)();r.filter_location=n,t((0,a.A)(e.pathname,r),{replace:!0})}}},798902(e,t,n){n.d(t,{A:()=>d,Y:()=>c});var r=n(979638),a=n(693154),i=n(601185),o=n(890922),l=n(224723),s=n(11925),u=n(307079);let c=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function d(){let e=(0,r.Zp)(),t=(0,r.zy)(),{checkExperiment:n}=(0,i.A)(),{scope:d}=(0,r.g)(),p=(0,a.A)(),{isAuth:m}=p,h=m?p.country:"";return function(r){let a=(0,u.A)();a.rs=o.I.SHOPPING_FILTER,r.forEach(({key:e,value:t})=>{""!==t?a[e]=t:delete a[e]}),("US"===h||n("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&d!==l.cO.PINS&&!c.some(e=>"commerce_only"!==e&&e in a)&&delete a.commerce_only,e((0,s.A)(t.pathname,a))}}},393807(e,t,n){n.d(t,{A:()=>i});var r=n(979638),a=n(803489);function i(){return!!(0,a.A)((0,r.zy)().search).brands}},702949(e,t,n){n.d(t,{A:()=>o});var r=n(979638),a=n(601185),i=n(803489);function o(){let{checkExperiment:e}=(0,a.A)(),t=(0,r.zy)(),{colors:n}=(0,i.A)(t.search);return!!n&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},392026(e,t,n){n.d(t,{A:()=>a});var r=n(601185);function a(){let{checkExperiment:e}=(0,r.A)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},149562(e,t,n){n.d(t,{A:()=>i});var r=n(979638),a=n(803489);function i(){return!!(0,a.A)((0,r.zy)().search).domains}},427403(e,t,n){n.d(t,{A:()=>i});var r=n(979638),a=n(803489);function i(){let e=(0,r.zy)(),{price_max:t,price_min:n}=(0,a.A)(e.search);return!!(n??t)}},485647(e,t,n){n.d(t,{A:()=>u});var r=n(61163),a=n(859471),i=n(19821),o=n(154508),l=n(678358),s=n(562615);function u({actionButton:e,collapsed:t,disabled:n,displayViewState:u,forceTappableHeader:c,headerHeight:d,headerPaddingX:p,headerPreview:m,heading:h,icon:g="chevron-down",onClick:f,showArrow:y,surface:_}){(0,a.useEffect)(()=>{(0,r.A)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let{closeupWithinMasonryEnabled:A,peekCloseupEnabled:b,viewportSize:v}=(0,l._G)();if(!c&&null===u){let e,t;return e=(0,o.Kd)({peekCloseupEnabled:b,viewportSize:v,surface:_}),t=(0,s.jsx)(i._Y,{accessibilityLevel:2,align:"start",id:"comments-heading",size:e?"300":"400",children:h}),e?(0,s.jsx)(i.az,{marginBottom:4,children:t}):t}let x=(0,s.jsx)(i.az,{marginBottom:!t&&b?4:void 0,children:(0,s.jsxs)(i.so,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:d,justifyContent:"between",children:[(0,s.jsx)(i.so.Item,{flex:"shrink",children:(0,s.jsx)(i._Y,{accessibilityLevel:2,align:"start",color:n?"disabled":"default",id:"comments-heading",size:"300",children:h})}),(0,s.jsx)(i.so.Item,{flex:"shrink",children:(0,s.jsxs)(i.so,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[t&&m,(y||A)&&(0,s.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{transform:t?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!y,children:(0,s.jsx)(i.In,{accessibilityLabel:"",color:!y||n?"disabled":"default",dataTestId:"collapse-button",icon:g})})]})}),e&&(0,s.jsx)(i.so.Item,{flex:"grow",children:(0,s.jsx)(i.so,{justifyContent:"end",children:e})})]})});return(0,s.jsx)(i.az,{paddingX:p,children:f?(0,s.jsx)(i.Rp,{disabled:!y||n,onTap:f,children:x}):x})}},679051(e,t,n){n.d(t,{A:()=>r});let r=175},733577(e,t,n){n.d(t,{Tg:()=>r,_c:()=>l,jv:()=>a,sU:()=>i,zu:()=>o});let r={x:0,y:0,w:0,h:0},a=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,i={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},o="cropper-background",l="cropper-cropbox"},881541(e,t,n){n.d(t,{A:()=>v});var r,a,i=n(61163),o=n(859471);n(825193);var l=n(19821),s=n(586733),u=n(284387),c=n(535273),d=n(17881),p=n(377917),m=n(78284),h=n(704633),g=n(257361),f=n(971289),y=n(385800),_=n(562615);let A=(void 0!==r||(r=n(977110)).hash&&"d1542775568248acbce5a79453f4dffb"!==r.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),b=(void 0!==a||(a=n(599016)).hash&&"dee347ef77ae345e076b08494d4b664f"!==a.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function v({accessibilityLabelledBy:e,auxData:t,component:n,contentVisibleItemCountOverride:r,disableHeader:a,getProductTagAuxData:v,headerDisplayOptions:x,heading:w,itemRepSiblingNodeFactories:S,items:T,itemWidth:I,itemWidthHeightRatio:E,parentPinKey:k,renderItem:R,saveButtonOptions:O,showBorder:P,showMarkers:F=!1,showNavigationButtons:j=!0,storyKey:$,subtitle:C,surface:N,view:D=3,viewParameter:M,width:L}){(0,o.useEffect)(()=>{(0,i.A)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:z}=(0,s.o)(),B=(0,f.Ay)(),H=(0,f.bh)(B),K=(0,c.A)(A,k),W=(0,c.A)(b,$),q=W?.objects?[...W.objects]:[],Y=q.map(e=>"Pin"===e.__typename?e.entityId:null),U=(0,o.useMemo)(()=>{let e=W?.storyType?{story_type:W.storyType}:void 0;return e&&t?{...t,...e}:e??t},[W?.storyType,t]),G=H?236:175,V=I??G,Q=W.displayOptions?.contentDisplay?.itemWidthHeightRatio??E??1,{web:Z,mobile:J}=W.displayOptions?.contentDisplay?.contentVisibleItemCount??{},X=r??(H?Z:J),ee=!a&&(W?.storyTitle||w||C),{showModuleBorder:et,showExtraSmallSubtitle:en,headerMarginBottom:er,isFixedWidthSlides:ea,moduleBorderStyle:ei}=(0,h.A)({storyKey:W,styleOverrides:{showModuleBorder:P}}),eo=!ea&&!!X&&!I,el=eo?"100%":V,es=(0,o.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let r=Number(Y?.[e]);z({aux_data:U,event_type:108,component:n,view_type:D,view_parameter:M,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(r)?r:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[U,n,Y,z,D,M]),eu=(0,o.useCallback)(({item:e,index:t})=>{let r=()=>{let r;if(R)return R({item:e,index:t});if(t===q.length-1&&W.action?.text&&W.action?.url&&(r=W.action,r?.text&&r?.url&&m.$$.has(r?.location))){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,_.jsx)(d.A,{auxData:U,buttonText:W.action?.text,component:n,contentIds:W.contentIds??void 0,element:179,imageWidth:el,previewImageSrc:t,storyId:W.storyId??"",storyType:W.storyType,url:W.action.url,view:D,viewParameter:M})}let a="Pin"===e.__typename?v?.(e):void 0;return(0,_.jsx)(p.A,{auxData:{...a,...U},boardKey:null,component:n,imageWidth:el,isInDesktopCarousel:H,isInMobileCarousel:!H,item:null,itemWidthHeightRatio:Q,parentPinKey:K,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:K?.entityId,relatedInterestKey:null,saveButtonOptions:O,slotIndex:t,storyKey:W,surface:N,view:D,viewParameter:M})},a=S?.[t];if(a){let e=r();return(0,_.jsx)(y.e,{children:t=>(0,_.jsx)(l.az,{position:"relative",children:(0,_.jsxs)(o.Fragment,{children:[e,a(t)]})})})}return r()},[q.length,n,v,H,S,el,Q,U,K,R,O,W,N,D,M]);return(0,_.jsxs)(l.az,{borderColor:et?"decorative":void 0,borderWidth:et?ei:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${V}px`,"--story-item-width-height-ratio":`${1/Q}`,...eo&&{"--carousel-item-count":`${X}`}}},direction:"column",display:"flex",rounding:et?400:void 0,width:L??"100%",children:[ee&&(0,_.jsx)(l.az,{marginStart:6,marginTop:4,children:(0,_.jsx)(g.A,{auxData:U,headerDisplayOptions:x,marginBottomOverride:er,showExtraSmallSubtitle:en,storyKey:W,view:D,viewParameter:M})}),(0,_.jsx)(l.az,{position:"relative",children:(0,_.jsx)(u.A,{accessibilityLabelledBy:e,items:T??q,mode:"multi",onIndexChange:es,renderItem:eu,showNavigationButtons:j,showScrollMarkers:F})})]})}},326550(e,t,n){function r(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:n}){let r=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${r}/${t}/`:`/discover/article/${r}/${t}/`}n.d(t,{I:()=>r,k:()=>a})},803415(e,t,n){n.d(t,{Ay:()=>o,Jt:()=>i,cq:()=>r});let r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},a=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};case r.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case r.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function i(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function o(e,t,n,r=!0,l){let s=a(n);return r?s.timeZone="UTC":l&&(s.timeZone=l),i()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(t)}},219053(e,t,n){let r;n.d(t,{A:()=>f});var a=n(825193),i=n(669897),o=n(61515),l=n(679902),s=n(969462),u=n(7819);let c=(0,l.A)(),d=new Set,p="";"u">typeof window&&(r=new i.Environment({network:i.Network.create((0,u.b3)(()=>({"x-pinterest-correlation-id":p}))),store:new i.Store(new i.RecordSource)}));let m=function({query:e,variables:t,correlationId:n}){!r||d.has(n)||(d.add(n),p=n,(0,i.fetchQuery)(r,(0,i.getRequest)(e),t,{fetchPolicy:"network-only"}))};var h=n(859471),g=n(33658);let f=function({strategy:e,query:t,variables:n,options:r,useGetLegacyResource:l,useGetLegacyPaginatedResource:u,useGetLegacyData:d}){let p;if("GraphQL"===e){let e=(0,i.getRequest)(t);return(0,a.useLazyLoadQuery)(e,n,r)}if(null!=l&&null!=u&&null!=d)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:f,refetch:y}=function(e,t){let n=(0,h.useRef)(e),r=(0,h.useRef)(null),[,a]=(0,h.useState)({}),i=(0,g.Ay)(e,n.current)?null==r.current?n.current:r.current:(n.current=e,r.current=null,n.current),o=(0,h.useCallback)(e=>{let n={...i,...e||{}};(0,g.Ay)(i,n)&&t(),r.current=n,a({})},[i,t]);return{actualVariables:i,refetch:o}}(n,()=>{p()}),_=(0,i.getRequest)(t),A=null;if("LegacyWithShadowGraphQL"===e){var b;let e;b=_.operation.name,e=function(e,t=!0){let n=0;if(0===e.length)return n;for(let t=0;t<e.length;t+=1)n=(n<<5)-n+e.charCodeAt(t)|0;return t?btoa(n.toString(10)):n}(`${b}-${JSON.stringify((0,s.A)(f))}`),m({query:t,variables:f,correlationId:A=`${e}-${c}`})}if(null!=d){let e=d(f,{correlationId:A});if(!e)return null;let{selections:n}=(0,i.getRequest)(t).fragment;return p=()=>{},(0,o.A)(n,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:y},paginationInfo:null})}if(null!=l){let e=l(f,{correlationId:A}),{data:n}=e;if(p=e.refresh,null==n)return null;let{selections:r}=(0,i.getRequest)(t).fragment;return(0,o.A)(r,{kind:"LegacyData",singularLegacyData:n,refetchInfo:{refetch:y},paginationInfo:null})}if(null!=u){let e=u(f,{correlationId:A}),{data:n,isFetching:r,isAtEnd:a,fetchMore:l}=e;if(p=e.refresh,null==n)return null;let{selections:s}=(0,i.getRequest)(t).fragment;return(0,o.A)(s,{kind:"PaginationLegacyData",paginationLegacyData:n,refetchInfo:{refetch:y},paginationInfo:{isLoadingNext:r,hasNext:!a,loadNext:l}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},901738(e,t,n){n.d(t,{A:()=>l});var r,a=n(859471);n(825193);var i=n(535273);let o=(void 0!==r||(r=n(950377)).hash&&"8b6ce790922ff8b900b4ae18b06b7c11"!==r.hash&&console.error("The definition of 'useGetNormalizedPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function l({pinKey:e,maxWidth:t}){let n=(0,i.A)(o,e),r=n?.images_564x||n?.images_736x||n?.images_orig||n?.images_474x||n?.images_236x,l=r?.width||1,s=r?.height||1,u=r?.url||"",c=function(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}(l,s,t);return{getNormalizedPinImage:(0,a.useCallback)(()=>({width:c.width,height:c.height,url:u}),[c.height,c.width,u])}}},16917(e,t,n){n.d(t,{A:()=>E});var r=n(17775),a=n(564954),i=n(385982),o=n(472723),l=n(746904),s=n(355426),u=n(54240),c=n(752643),d=n(441496),p=n(449344),m=n(2354);let h="stopwatch_v2",g=(0,r.lo)(h),f=new Map,y=[],_=[],A=!1;function b(){let e=performance.now();f.forEach((t,n)=>{e-t.startTimestamp>t.maxDuration&&(g(`Auto-aborting stale stopwatch ${n} after ${t.maxDuration}ms`),I(n,"exceeded_max_duration"))})}function v(e,t,n){performance.mark(`${h}:${e}:${t}`,n?{startTime:n}:void 0)}function x(e,t,n,r){performance.measure(`${h}:${e}:${t}`,n,r)}function w(e){let t=`${h}:${e}:`,n=[`${t}start`,`${t}end`,`${t}subspan:`];return y.filter(e=>e.name.startsWith(t)&&!n.some(t=>e.name.startsWith(t))).map(e=>({label:e.name.slice(t.length),timestamp:e.startTime}))}function S(e,t){let n=`${h}:${e}:subspan:`;return _.filter(e=>e.name.startsWith(n)).map(e=>({name:e.name.slice(n.length),id:(0,u.A)(),parentId:t,startTime:e.startTime,endTime:e.startTime+e.duration,annotationMap:{},binaryAnnotationMap:{}}))}function T(e){let t=`${h}:${e}:`;try{y=y.filter(e=>!e.name.startsWith(t)),_=_.filter(e=>!e.name.startsWith(t))}catch{}let n=f.get(e);n?.resourceObserver?.disconnect(),f.delete(e)}function I(e,t){if(!(0,c.A)())return;let n=f.get(e);if(!n)return void(0,d.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"abort",version:"2"});g(`Aborted ${e}: ${t}`);let r=performance.now(),{startTimestamp:i}=n,l=(0,u.A)(),h=(0,m.tQ)(),y={type:"stopwatch",name:e},_={type:"ABORT",traceId:l,startTime:i,endTime:r,spans:S(e,l),annotationMap:(0,s.A)(w(e)),binaryAnnotationMap:(0,a.jp)({metricId:y,pwtStaticContext:h,binaryAnnotations:n.binaryAnnotations,performanceResourceTimings:n.resourceBuffer,type:"ABORT",stopwatchVersion:2}),reason:t??"unknown"};(0,o.A)({metricId:y,pwtStaticContext:h,result:_,sampleRate:n.sampleRate,stopwatchVersion:2}),(0,d.HF)({abortReason:t??"unknown",pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),T(e)}function E(e,t={}){let{sampleRate:n,maxDuration:r}=t;return{name:e,start:t=>(function(e,t={}){if(!(0,c.A)())return;!function(){if(A||!(0,c.A)())return;A=!0;let e=`${h}:`;try{new PerformanceObserver(t=>{let n=t.getEntries().filter(t=>t.name.startsWith(e));y.push(...n)}).observe({type:"mark",buffered:!0}),new PerformanceObserver(t=>{let n=t.getEntries().filter(t=>t.name.startsWith(e));_.push(...n)}).observe({type:"measure",buffered:!0}),setInterval(b,1e4)}catch{}}(),f.has(e)&&(g(`Stopwatch ${e} already active, aborting previous`),I(e,"new_stopwatch_started"));let n=t.startTime??performance.now(),{observer:r,buffer:a}=function(){let e=[];if(!(0,c.A)())return{observer:null,buffer:e};try{let t=new PerformanceObserver(t=>{if(e.push(...t.getEntries()),e.length>5e3){let t=e.length-5e3;e.splice(0,t),(0,d.pI)({eventName:"resourceBufferTruncated.v2",tags:{dropped:t,remaining:5e3}}),g("Resource buffer truncated",{dropped:t,remaining:5e3})}});return t.observe({type:"resource",buffered:!1}),{observer:t,buffer:e}}catch{return{observer:null,buffer:e}}}();f.set(e,{sampleRate:t.sampleRate??1,binaryAnnotations:{},resourceObserver:r,resourceBuffer:a,startTimestamp:n,maxDuration:t.maxDuration??6e4}),v(e,"start",n),(0,d.Lc)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),g(`Started ${e}`)})(e,{...t,sampleRate:n,maxDuration:r}),stop:t=>(function(e,t){var n;let r;if(!(0,c.A)())return;let y=f.get(e);if(!y)return void(0,d.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"stop",version:"2"});let _=t??performance.now();v(e,"end",_);let{startTimestamp:A}=y;x(e,"duration",`${h}:${e}:start`,`${h}:${e}:end`);let b=(0,u.A)(),I=(0,m.tQ)(),E={type:"stopwatch",name:e},k={type:"COMPLETE",metricId:E,traceId:b,startTime:A,endTime:_,spans:[...S(e,b),...(n=y.resourceBuffer,[{name:"network_resources",id:r=(0,u.A)(),parentId:b,startTime:A,endTime:_,annotationMap:{},binaryAnnotationMap:{}},...n.filter(e=>e.responseEnd>0&&e.startTime>=A&&e.responseEnd<=_).map(e=>(0,l.A)((0,i.B)(e,[]),r)).filter(Boolean)])],annotationMap:(0,s.A)(w(e)),binaryAnnotationMap:(0,a.jp)({metricId:E,pwtStaticContext:I,binaryAnnotations:y.binaryAnnotations,performanceResourceTimings:y.resourceBuffer,type:"COMPLETE",stopwatchVersion:2})};g(`Stopped ${e}`,{duration:_-A}),(0,o.A)({metricId:E,pwtStaticContext:I,result:k,sampleRate:y.sampleRate,stopwatchVersion:2}),(0,d.ed)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),T(e)})(e,t),abort:t=>I(e,t),annotate:t=>{(0,c.A)()&&f.has(e)&&(v(e,t),g(`${e} annotation: ${t}`))},binaryAnnotate:(t,n,r)=>{let a;(a=f.get(e))&&(a.binaryAnnotations={...a.binaryAnnotations,[t]:{value:n,type:r}},g(`${e} binary: ${t}=${String(n)}`))},subspanStart:t=>{(0,c.A)()&&f.has(e)&&(v(e,`subspan:${t}:start`),g(`${e} subspan start: ${t}`))},subspanStop:t=>(function(e,t){if((0,c.A)()&&f.has(e)){v(e,`subspan:${t}:end`);try{x(e,`subspan:${t}`,`${h}:${e}:subspan:${t}:start`,`${h}:${e}:subspan:${t}:end`),g(`${e} subspan stop: ${t}`)}catch{g(`${e} subspan stop failed: ${t}`)}}})(e,t),isActive:()=>f.has(e)}}},114735(e,t,n){n.d(t,{A:()=>a});let r=(0,n(16917).A)("search_tab_render");function a(){return r}},355426(e,t,n){n.d(t,{A:()=>r});let r=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,r)=>{let a=r?`${e}_${r+1}`:e;n={...n,[a]:t}})}),n}},413084(e,t,n){n.d(t,{A:()=>m});var r=n(61163),a=n(859471),i=n(19821),o=n(538329),l=n(284247),s=n(562615);function u({category:e,ingredients:t,textSize:n="300"}){return(0,a.useEffect)(()=>{(0,r.A)("Ingredient","/app/packages/recipePin/Ingredient.tsx")},[]),(0,s.jsxs)(i.az,{children:[e&&(0,s.jsx)(i.az,{children:(0,s.jsx)(i.KJ,{size:n,weight:"bold",children:e})}),(0,s.jsx)("ul",{children:t.map((e,t)=>(0,s.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,s.jsx)(i.az,{marginTop:1,children:(0,s.jsxs)(i.KJ,{color:"neutral",size:n,children:["• ",e.amt||null," ",e.name]})})},t))})]})}var c=n(913846),d=n(750612),p=n(678358);function m({recipeProps:e,marginOverrides:t}){var n;(0,a.useEffect)(()=>{(0,r.A)("RecipeIngredients","/app/packages/recipePin/RecipeIngredients.tsx")},[]);let m=(0,o.A)(),{image:h,name:g,categorizedIngredients:f}=e?.recipe||{},{peekCloseupEnabled:y}=(0,p._G)(),_=0;if(f&&f.length){let e=[];f.forEach(t=>(_+=t.ingredients?.length||0,e.push(t.ingredients)))}let A=y?(n=_,(0,l.A)(m.nbt(["{{ count }} ingredient", "{{ count }} ingredients"], n, "closeup.recipePin.heading.ingredientCount", true),{count:n.toString()})):m.bt("Ingredients", "Ingredients", "Ingredients title and count in closeup recipe description", undefined, true);return(0,s.jsx)(i.az,{marginBottom:2,marginTop:2,children:(0,s.jsxs)(c.A,{itemType:"https://schema.org/Recipe",children:[(0,s.jsx)("meta",{content:g??void 0,itemProp:"name"}),(0,s.jsx)("meta",{content:h,itemProp:"image"}),(0,s.jsx)(d.A,{heading:A,children:(0,s.jsx)(i.az,{marginTop:4,children:f&&f.map(({category:e,ingredients:n},r)=>{let o=`ingredient-${r}`;return(0,s.jsx)(a.Fragment,{children:(0,s.jsx)(i.az,{marginBottom:t?.ingredientMarginBottom||4,children:(0,s.jsx)(u,{category:e,ingredients:n??[],textSize:"300"})})},o)})})})]})})}},913846(e,t,n){n.d(t,{A:()=>o});var r=n(61163),a=n(859471),i=n(562615);let o=e=>{(0,a.useEffect)(()=>{(0,r.A)("RichPinInformation","/app/packages/rich-snippet/RichPinInformation.tsx")},[]);let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},306618(e,t,n){n.d(t,{A:()=>a});var r=n(365910);function a(e){let{enteredQuery:t,filters:n,guideAdded:a,query:i,requestParams:o,rs:l,scope:s,selectedOneBarModules:u,user:c,inlineSuggestion:d,multimodalPinId:p}=e;if(!i)return"/";let m={q:i,rs:l,...o};if(n&&(m.filters=n),c&&(m.user=c),u&&(m.selected_one_bar_modules=u),a&&a.term&&(m.add_refine=`${a.term}|guide|word|${a.index}`),t&&(m.entered_query=t),d&&(m.inline_suggestion=d),p&&(m.query_image_pins=p),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,r.A)(m)}`;let h=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(h??"")||(h="pins"),h?`/search/${h}/?${(0,r.A)(m)}`:`${window.location.pathname}?${(0,r.A)(m)}`}},144972(e,t,n){n.d(t,{A:()=>i});var r=n(326550),a=n(365910);function i({bubbleId:e,pinId:t,query:n,referringSource:i,storyCategory:o,storyId:l,title:s}){let u=void 0!==o&&[0,24,21,26].includes(o),c=(0,a.A)({q:n,rs:i||void 0,b_id:e,source_id:l,top_pin_ids:t}),d=u&&s?(0,r.k)({title:s,id:e,articleType:"discover"}):`/discover/article/${e}/`;return u?d:`/search/pins/${c?"?"+c:""}`}},733048(e,t,n){n.d(t,{A:()=>r});function r(e){switch(e){case -1:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"clock-history";default:return"magnifying-glass"}}},11925(e,t,n){n.d(t,{A:()=>r});let r=(e,t)=>{let n=new URL(e,"https://pinterest.com");return n.search=new URLSearchParams(t).toString(),n.toString().substring(n.origin.length)}},566771(e,t,n){function r({cropArea:e,cropSource:t,entrypoint:n,requestParams:r,searchQuery:a,surfaceType:i,title:o,trafficSource:l}){let s=[];if(e){let{x:t,y:n,w:r,h:a}=e;t>=0&&n>=0&&r>=0&&a>=0&&s.push(`x=${t}`,`y=${n}`,`w=${r}`,`h=${a}`)}return t&&s.push(`cropSource=${t}`),n&&s.push(`entrypoint=${n}`),i&&s.push(`surfaceType=${i}`),o&&s.push(`full_feed_title=${encodeURIComponent(o)}`),a&&s.push(`q=${a}`),l&&"unknown"!==l&&s.push(`rs=${l}`),r&&s.push(`requestParams=${encodeURIComponent(r)}`),s.length?`?${s.join("&")}`:""}n.d(t,{A:()=>r})},780291(e,t,n){n.d(t,{A:()=>a});var r=n(566771);function a({cropArea:e,cropSource:t,entrypoint:n,isProductPage:a,pinId:i,requestParams:o,searchQuery:l,surfaceType:s,title:u,trafficSource:c}){let d=(0,r.A)({cropArea:e,cropSource:t,entrypoint:n,requestParams:o,searchQuery:l,surfaceType:s,title:u,trafficSource:c}),p="";return a&&(p="products/"),`/pin/${i}/visual-search/${p}${d}`}},750612(e,t,n){n.d(t,{A:()=>m});var r=n(61163),a=n(859471),i=n(19821),o=n(485647),l=n(586733),s=n(844255),u=n(971289),c=n(168079),d=n(678358),p=n(562615);function m({actionButton:e,auxData:t,children:n,collapseButtonElementType:m,collapseByDefault:h=!0,componentType:g,disabled:f,displayViewState:y,expandButtonElementType:_,forceTappableHeader:A,headerHeight:b,headerPaddingX:v,headerPreview:x,heading:w,icon:S,surface:T,viewParameter:I,viewType:E}){(0,a.useEffect)(()=>{(0,r.A)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let k=(0,u.qJ)(),{isBot:R}=(0,s._8)(),{logContextEvent:O}=(0,l.o)(),{setIsShoppingModuleExpanded:P}=(0,d._G)(),F=(0,a.useRef)(null),[j,$]=(0,a.useState)(void 0),[C,N]=(0,a.useState)(f||!R&&h||null!=y&&[1,2].includes(y));return(0,c.A)(()=>{let e=F.current,t=null;if(e){let n=()=>{let t=e.scrollHeight,n=e.firstElementChild;$(t+(n?parseInt(window.getComputedStyle(n).marginTop,10):0))};n(),(t=new ResizeObserver(n)).observe(e)}return()=>{t?.disconnect()}}),(0,a.useEffect)(()=>{P&&P(!C)},[]),(0,p.jsxs)(i.so,{dataTestId:"collapsible-layout",direction:"column",gap:4*!k,children:[(0,p.jsx)(o.A,{actionButton:e,collapsed:C,disabled:f,displayViewState:y,forceTappableHeader:A,headerHeight:b,headerPaddingX:v,headerPreview:x,heading:w,icon:S,onClick:()=>{N(!C),P&&P(C),O({aux_data:t,component:g,element:C?_:m,event_type:k?101:102,view_parameter:I,view_type:E})},showArrow:!0,surface:T}),k?(0,p.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${C?"collapsed":"expanded"}`,height:C?"0px":`${j}px`,marginBottom:C?void 0:1,overflow:"hidden",children:(0,p.jsx)(i.az,{ref:F,children:n})}):!C&&(0,p.jsx)(i.az,{children:n})]})}},295593(e,t,n){n.d(t,{A:()=>l});var r=n(61163),a=n(859471),i=n(19821),o=n(562615);function l({children:e,color:t,isDarkMode:n,outlined:l,type:s="bold",rounding:u=400}){return(0,a.useEffect)(()=>{(0,r.A)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,o.jsxs)(i.az,{position:"relative",children:[(0,o.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:u,children:e}),l&&(0,o.jsx)(i.az,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:n}){let r=t?"#fff":"#000",a=t?"#000":"#fff";return"solid"===n?{boxShadow:`inset 0 0 0 2px ${e??r}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}`}:"border"===n?{border:`1px solid ${e??"var(--sema-color-border-selected)"}`,boxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",WebkitBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",MozBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)"}:{boxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${a}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${a}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${a}`}}({color:t,isDarkMode:n,type:s})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:u,top:!0})]})}},820382(e,t,n){n.d(t,{A:()=>h});var r=n(61163),a=n(859471),i=n(19821),o=n(989457),l=n(538329),s=n(726329),u=n(144972),c=n(733048),d=n(284247),p=n(745489),m=n(562615);function h({bubble:e,contextLogData:t,disableTabIndex:n,height:h,isHovered:g,onClick:f,onMouseEnter:y,onMouseLeave:_,referringSource:A,searchBoxRenderStopwatch:b,slotIndex:v,storyId:x,viewParameter:w,viewType:S,width:T}){(0,a.useEffect)(()=>{(0,r.A)("Bubble","/app/www/discover/Bubbles/Bubble.tsx")},[]);let I=(0,l.A)(),{id:E,action:k,aux_fields:R,cover_images:O,dominant_colors:P,identifier_icon_type:F,title:j,story_category:$,curator:C}=e,N=O&&O[0]&&(O[0]["280x280"]||O[0]["236x"]),D=(0,d.A)(j&&j.format||"",j&&j.args||{}),M=P&&P.length?P[0]:"gray",L=k?.url||(0,u.A)({storyCategory:$,query:D,referringSource:A,bubbleId:E,storyId:x,title:j.format,pinId:R?.image_pin_id}),z=!!F&&(0,c.A)(F);return(0,m.jsx)(s.g$,{contextLogData:{story_id:x,...t},impressionAuxFields:{storyCategory:$,story_id:x},impressionType:"Article",loggingId:E,slotIndex:v,viewParameter:w,viewType:S,children:({impressionTrackerRef:e})=>(0,m.jsx)(i.az,{ref:e,children:(0,m.jsxs)(p.A,{backgroundColor:M,coverImage:N,disableTabIndex:n,height:h,id:E,isHovered:g,onClick:f,onMouseEnter:y,onMouseLeave:_,searchBoxRenderStopwatch:b,url:L,width:T,children:[C&&26!==$&&(0,m.jsx)(i.az,{left:!0,padding:2,position:"absolute",top:!0,children:(0,m.jsx)(o.eu,{name:C.full_name,outline:!0,size:"xs",src:C.image_small_url})}),z&&(0,m.jsx)(i.az,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:80,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,m.jsx)(i.In,{accessibilityLabel:I.bt("Shopping icon", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",icon:z,size:12})}),(0,m.jsx)(i.az,{alignItems:26===$?"end":"center","data-test-id":"discover-bubble",display:"flex",height:h,justifyContent:"center",padding:3,position:"absolute",top:!0,width:T||"100%",children:(0,m.jsxs)(i.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[h>200?(0,m.jsx)(i._Y,{align:"center",color:"light",size:"600",children:D}):(0,m.jsx)(i.KJ,{align:"center",color:"light",weight:"bold",children:D}),C&&26===$&&(0,m.jsxs)(i.az,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,m.jsx)(i.az,{marginEnd:2,children:(0,m.jsx)(o.eu,{name:C.full_name,outline:!0,size:"xs",src:C.image_small_url})}),(0,m.jsx)(i.KJ,{color:"light",size:"100",children:C.full_name})]})]})})]})})})}},745489(e,t,n){n.d(t,{A:()=>u,a:()=>s});var r=n(61163),a=n(859471),i=n(19821),o=n(114735),l=n(562615);let s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function u({backgroundColor:e,children:t,coverImage:n,disableTabIndex:u,height:c,id:d,isHovered:p,onClick:m,onMouseDown:h,onMouseEnter:g,onMouseLeave:f,searchBoxRenderStopwatch:y,url:_,width:A}){(0,a.useEffect)(()=>{(0,r.A)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[b,v]=(0,a.useState)(!1),x=()=>{g?g():v(!0)},w=()=>{f?f():v(!1)},S=p||b,T=S?s.hoverOverlay:s.bubbleOverlay;return(0,l.jsx)(i.$A,{href:_,onBlur:w,onFocus:x,onMouseDown:h,onMouseEnter:x,onMouseLeave:w,onTap:()=>{m?.(d)},rounding:400,tabIndex:u?-1:void 0,children:(0,l.jsx)(i.n1,{height:c,rounding:400,width:A||"100%",children:n?.url?(0,l.jsxs)(i._V,{alt:"",color:e,fit:"cover",naturalHeight:n.height??1,naturalWidth:n.width??1,onLoad:()=>{y?.stop();let e=(0,o.A)();e.isActive()&&e.stop()},role:"presentation",src:n.url,children:[(0,l.jsx)(i.az,{dangerouslySetInlineStyle:{__style:T},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:S}):t]}):(0,l.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},106301(e,t,n){n.d(t,{n:()=>p,u:()=>d});var r=n(859471),a=n(979638),i=n(987628),o=n(224723),l=n(971289),s=n(531525),u=n(562615);let{Provider:c,get:d}=(0,i.A)("SearchParams"),p=({children:e,value:t})=>{let n=function(){let e=(0,l.qJ)(),{search:t,pathname:n}=(0,a.zy)(),{scope:r}=(0,a.g)(),i=!r&&n.includes("/_tools/shop");return(0,s.A)({isDesktop:e,scope:i?o.cO.SHOP_TOOL:r??o.cO.PINS,search:t})}(),i=(0,r.useMemo)(()=>({...n,...t}),[n,t]);return(0,u.jsx)(c,{value:i,children:e})}},464224(e,t,n){n.d(t,{P4:()=>r,bP:()=>a,eS:()=>i,zB:()=>o});let r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},a={CLOSEUP:"closeup"},i={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},o={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},693001(e,t,n){n.d(t,{A:()=>g});var r=n(61163),a=n(859471),i=n(949613),o=n(668014),l=n(844255),s=n(971289),u=n(449286),c=n(387108),d=n(815408),p=n(442223),m=n(562615);function h(){(0,u.A)();let e=(0,c.A)();return(0,m.jsx)(i.A,{id:"MobileAndUnauthPinPage",children:(0,m.jsx)(p.A,{queryRefs:e})})}function g(){(0,a.useEffect)(()=>{(0,r.A)("PinPage","/app/www/pages/PinPage.tsx")},[]);let e=(0,s.qJ)(),{isAuthenticated:t}=(0,l._8)();return(0,m.jsx)(o.A,{name:"PinPage",type:"critical",children:e&&t?(0,m.jsx)(i.A,{id:"AuthDesktopPinPage",children:(0,m.jsx)(d.A,{})}):(0,m.jsx)(h,{})})}},531525(e,t,n){n.d(t,{A:()=>i});var r=n(224723),a=n(803489);function i({isDesktop:e,scope:t,search:n}){let{auto_correction_disabled:i="",b_id:o,brands:l,category:s,colors:u,commerce_only:c="",cover_pin_sig:d,deb_d:p,domains:m,filters:h,guided_search_query:g,inline_suggestion:f,interest_id:y,journey_depth:_,on_sale:A,price_max:b,price_min:v,q:x,query_pin_sigs:w,query_image_pins:S,quiz:T,request_params:I,rs:E,selected_one_bar_modules:k,source_id:R,source_module_id:O,tab:P,top_pin_ids:F,user:j}=(0,a.A)(n),$="true"===c.toLowerCase()&&"shop_tool"!==t?r.cO.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===i.toLowerCase(),brands:l,bubbleId:o,category:s,colors:u,commerceOnly:"true"===c.toLowerCase(),coverPinSig:d,currentlyAppliedFiltersParamTerm:h,debD:p,domains:m,guidedSearchQuery:g,inlineSuggestion:f,interestId:y,journeyDepth:_?parseInt(_,10):void 0,onSale:A,personalizationPinSig:w,placementId:(0,r.my)($,e),priceMax:b,priceMin:v,query:x,queryImagePins:S,quiz:T,requestParams:I,rs:E,scope:$,selectedOneBarModules:k,sourceId:R,sourceModuleId:O,tab:P||"",topPinIds:F,user:j,viewParameter:(0,r._n)($),viewType:$===r.cO.SHOP_TOOL?1:2}}},140114(e,t,n){n.d(t,{A:()=>r});let r=n(693001).A},7819(e,t,n){n.d(t,{xz:()=>h,b3:()=>d,Ay:()=>m});var r=n(669897),a=n(148867),i=n(639650),o=n(557704),l=n(523376),s=n(81920);function u(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends Error{constructor(...e){super(...e),u(this,"name","GraphQLFetchError"),u(this,"extraData",{})}}function d(e){let t=!0;async function n(n,r){let u=Date.now(),d=(0,i.q)(),p=document.cookie.match(RegExp("\\b"+a.mh.name+"=.+?($|;)","g")),m=e?e():{},h=function({handler:e,queryName:t,windowIsInFocus:n}){let{searchParams:r}=new URL(window.location.href),a=r.get("force_country"),i=r.get("force_country_from_ip"),s=r.get("force_region_from_ip"),u=r.get("skan_test"),c={};return a&&(c["X-Force-Country"]=a),i&&(c["X-Force-Country-From-IP"]=i),s&&(c["X-Force-Region-From-IP"]=s),u&&(c["X-Pinterest-SKAN-Testing"]=u),e&&(c["X-Pinterest-PWS-Handler"]=e),{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":(0,o.Qm)(),"X-Requested-With":"XMLHttpRequest","X-Pinterest-Source-Url":(0,l.A)(),"X-Pinterest-GraphQL-Name":t,"X-Pinterest-AppState":n?"active":"background",...c}}({handler:d,queryName:n.name,windowIsInFocus:t,...m});try{let e=await fetch("/_/graphql/",{credentials:"include",method:"POST",headers:h,body:JSON.stringify({queryHash:n.id,variables:r})});return(0,s.N9)("pws.graphql.fetchQueryClient.request",Date.now()-u,{sampleRate:1,tags:{handler:d??"unknown",queryName:n.name,status:e.status}}),await e.json()}catch(t){let e=new c(t.message);throw e.stack=t.stack,e.extraData={csrfCookies:p?.join(";")??"unknown",requestHeaders:h},(0,s.GV)("pws.graphql.fetchQueryClient.networkError",{sampleRate:1,tags:{handler:d,queryName:n.name}}),e}}return window.addEventListener("focus",()=>t=!0),window.addEventListener("blur",()=>t=!1),function(e,t){var r,a;let o,l,u,c;return r=e,a=t,u=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),r={};for(let a=0;a<n.length;a+=1)r[n[a]]=e(t[n[a]]);return r}({queryID:r.id??r.cacheID,variables:a})),((c=window.__PWS_RELAY_SSR_REQUESTS__?.[u])?(o=(0,i.q)(),l=c.status,(0,s.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.hit",{tags:{handler:o??"unknown",queryName:r.name,status:l}}),c.promise.finally(()=>{(0,s.N9)(`pws.graphql.fetchQueryClient.fetchFromSSRCache.${c.status}`,c.endTime-c.startTime,{tags:{handler:o??"unknown",initialStatus:l,queryName:r.name}}),"completed"===c.status&&c.startTime>c.endTime&&(0,s.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.completedBeforePending",{tags:{handler:o??"unknown",queryName:r.name}})}),"completed"===c.status)?c.response:"rejected"===c.status?null:c.promise:null)??n(e,t)}}let p=null;function m(){let e=new r.Environment({network:r.Network.create(d()),store:new r.Store(new r.RecordSource)});return"u">typeof window&&(p=e),e}function h(){return p}},254786(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]",function(){return n(140114).A}])}},function(e){e.O(0,["106","14450","1636","17618","20487","2968","32565","36162","3854","38884","39394","48153","48554","6151","6616","67247","67346","72004","75150","78180","80816","8155","81642","81756","81918","86203","88218","91796","94377","97076","98690"],function(){return e(e.s=254786)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id].en_GB-38dc9b969e2f456a.mjs.map